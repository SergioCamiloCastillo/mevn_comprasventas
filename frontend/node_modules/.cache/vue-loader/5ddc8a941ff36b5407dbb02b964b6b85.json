{"remainingRequest":"/home/sergio/idev/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/sergio/idev/frontend/src/components/admin/Ingresos.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/sergio/idev/frontend/src/components/admin/Ingresos.vue","mtime":1610235809854},{"path":"/home/sergio/idev/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/sergio/idev/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/sergio/idev/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/sergio/idev/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICdheGlvcycKZXhwb3J0IGRlZmF1bHQgewogICAgZGF0YSgpewogICAgICAgIHJldHVybnsKICAgICAgICAgICAgZGlhbG9nOiBmYWxzZSwKICAgICAgICAgICAgc2VhcmNoOicnLAogICAgICAgICAgICBpbmdyZXNvczpbXSwKICAgICAgICAgICAgaGVhZGVyczogWwogICAgICAgICAgICAgICAgeyB0ZXh0OiAnT3BjaW9uZXMnLCB2YWx1ZTogJ29wY2lvbmVzJywgc29ydGFibGU6IGZhbHNlIH0sCiAgICAgICAgICAgICAgICB7IHRleHQ6ICdVc3VhcmlvJywgdmFsdWU6ICd1c3VhcmlvLm5vbWJyZScsIHNvcnRhYmxlOiB0cnVlIH0sCiAgICAgICAgICAgICAgICB7IHRleHQ6ICdQcm92ZWVkb3InLCB2YWx1ZTogJ3BlcnNvbmEubm9tYnJlJywgc29ydGFibGU6IHRydWUgfSwKICAgICAgICAgICAgICAgIHsgdGV4dDogJ1RpcG8gQ29tcHJvYmFudGUnLCB2YWx1ZTogJ3RpcG9fY29tcHJvYmFudGUnLCBzb3J0YWJsZTogdHJ1ZSB9LAogICAgICAgICAgICAgICAgeyB0ZXh0OiAnU2VyaWUgY29tcHJvYmFudGUnLCB2YWx1ZTogJ3NlcmllX2NvbXByb2JhbnRlJywgc29ydGFibGU6IGZhbHNlICB9LAogICAgICAgICAgICAgICAgeyB0ZXh0OiAnTsO6bWVybyBjb21wcm9iYW50ZScsIHZhbHVlOiAnbnVtX2NvbXByb2JhbnRlJywgc29ydGFibGU6IGZhbHNlICB9LAogICAgICAgICAgICAgICAgeyB0ZXh0OiAnRmVjaGEnLCB2YWx1ZTogJ2NyZWF0ZWRBdCcsIHNvcnRhYmxlOiBmYWxzZSAgfSwKICAgICAgICAgICAgICAgIHsgdGV4dDogJ0ltcHVlc3RvJywgdmFsdWU6ICdpbXB1ZXN0bycsIHNvcnRhYmxlOiBmYWxzZSAgfSwKICAgICAgICAgICAgICAgIHsgdGV4dDogJ1RvdGFsJywgdmFsdWU6ICd0b3RhbCcsIHNvcnRhYmxlOiBmYWxzZSAgfSwKICAgICAgICAgICAgICAgIHsgdGV4dDogJ0VzdGFkbycsIHZhbHVlOiAnZXN0YWRvJywgc29ydGFibGU6IGZhbHNlICB9ICAgICAgICAgICAgICAgIAogICAgICAgICAgICBdLAogICAgICAgICAgICBfaWQ6JycsCiAgICAgICAgICAgIHBlcnNvbmE6JycsCiAgICAgICAgICAgIHBlcnNvbmFzOltdLAogICAgICAgICAgICB0aXBvX2NvbXByb2JhbnRlOicnLAogICAgICAgICAgICBjb21wcm9iYW50ZXM6IFsnQk9MRVRBJywnRkFDVFVSQScsJ1RJQ0tFVCcsJ0dVSUEnXSwKICAgICAgICAgICAgc2VyaWVfY29tcHJvYmFudGU6JycsCiAgICAgICAgICAgIG51bV9jb21wcm9iYW50ZTogJycsCiAgICAgICAgICAgIGltcHVlc3RvOiAwLjE4LAogICAgICAgICAgICBjb2RpZ286JycsCiAgICAgICAgICAgIGNhYmVjZXJhRGV0YWxsZXM6WwogICAgICAgICAgICAgICAgeyB0ZXh0OiAnQm9ycmFyJywgdmFsdWU6ICdib3JyYXInLCBzb3J0YWJsZTogZmFsc2UgfSwKICAgICAgICAgICAgICAgIHsgdGV4dDogJ0FydMOtY3VsbycsIHZhbHVlOiAnYXJ0aWN1bG8nLCBzb3J0YWJsZTogZmFsc2UgfSwKICAgICAgICAgICAgICAgIHsgdGV4dDogJ0NhbnRpZGFkJywgdmFsdWU6ICdjYW50aWRhZCcsIHNvcnRhYmxlOiBmYWxzZSB9LAogICAgICAgICAgICAgICAgeyB0ZXh0OiAnUHJlY2lvJywgdmFsdWU6ICdwcmVjaW8nLCBzb3J0YWJsZTogZmFsc2UgfSwKICAgICAgICAgICAgICAgIHsgdGV4dDogJ1N1YiBUb3RhbCcsIHZhbHVlOiAnc3VidG90YWwnLCBzb3J0YWJsZTogZmFsc2UgIH0KICAgICAgICAgICAgXSwKICAgICAgICAgICAgZGV0YWxsZXM6W10sCiAgICAgICAgICAgIHZlck51ZXZvOjAsCiAgICAgICAgICAgIGVycm9yQXJ0aWN1bG86bnVsbCwKICAgICAgICAgICAgdG90YWw6MCwKICAgICAgICAgICAgdG90YWxQYXJjaWFsOjAsCiAgICAgICAgICAgIHRvdGFsSW1wdWVzdG86MCwKICAgICAgICAgICAgYXJ0aWN1bG9zOltdLAogICAgICAgICAgICB0ZXh0bzonJywKICAgICAgICAgICAgY2FiZWNlcmFBcnRpY3Vsb3M6IFsKICAgICAgICAgICAgICAgIHsgdGV4dDogJ1NlbGVjY2lvbmFyJywgdmFsdWU6ICdzZWxlY2Npb25hcicsIHNvcnRhYmxlOiBmYWxzZSB9LAogICAgICAgICAgICAgICAgeyB0ZXh0OiAnQ8OzZGlnbycsdmFsdWU6ICdjb2RpZ28nLCBzb3J0YWJsZTogZmFsc2V9LAogICAgICAgICAgICAgICAgeyB0ZXh0OiAnTm9tYnJlJyx2YWx1ZTogJ25vbWJyZScsIHNvcnRhYmxlOiB0cnVlfSwKICAgICAgICAgICAgICAgIHsgdGV4dDogJ0NhdGVnb3LDrWEnLHZhbHVlOiAnY2F0ZWdvcmlhLm5vbWJyZScsIHNvcnRhYmxlOiB0cnVlfSwKICAgICAgICAgICAgICAgIHsgdGV4dDogJ1N0b2NrJyx2YWx1ZTogJ3N0b2NrJywgc29ydGFibGU6IGZhbHNlfSwKICAgICAgICAgICAgICAgIHsgdGV4dDogJ1ByZWNpbyBWZW50YScsdmFsdWU6ICdwcmVjaW9fdmVudGEnLCBzb3J0YWJsZTogZmFsc2V9LAogICAgICAgICAgICAgICAgeyB0ZXh0OiAnRGVzY3JpcGNpw7NuJywgdmFsdWU6ICdkZXNjcmlwY2lvbicsIHNvcnRhYmxlOiBmYWxzZSB9LCAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB7IHRleHQ6ICdFc3RhZG8nLCB2YWx1ZTogJ2VzdGFkbycsIHNvcnRhYmxlOiBmYWxzZSB9CiAgICAgICAgICAgIF0sCiAgICAgICAgICAgIHZlckRldGFsbGU6MCwKICAgICAgICAgICAgdmFsaWRhOjAsCiAgICAgICAgICAgIHZhbGlkYU1lbnNhamU6W10sCiAgICAgICAgICAgIGFkTW9kYWw6MCwKICAgICAgICAgICAgYWRBY2Npb246MCwKICAgICAgICAgICAgYWROb21icmU6JycsCiAgICAgICAgICAgIGFkSWQ6JycKICAgICAgICB9CiAgICB9LAogICAgY29tcHV0ZWQ6IHsKICAgICAgICBjYWxjdWxhclRvdGFsOiBmdW5jdGlvbigpewogICAgICAgICAgICBsZXQgcmVzdWx0YWRvPTAuMDsKICAgICAgICAgICAgZm9yKHZhciBpPTA7aTx0aGlzLmRldGFsbGVzLmxlbmd0aDtpKyspewogICAgICAgICAgICAgICAgcmVzdWx0YWRvPXJlc3VsdGFkbysodGhpcy5kZXRhbGxlc1tpXS5jYW50aWRhZCp0aGlzLmRldGFsbGVzW2ldLnByZWNpbyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIHJlc3VsdGFkbzsKICAgICAgICB9CiAgICB9LAogICAgd2F0Y2g6IHsKICAgICAgICBkaWFsb2cgKHZhbCkgewogICAgICAgIHZhbCB8fCB0aGlzLmNsb3NlKCkKICAgICAgICB9CiAgICB9LAogICAgY3JlYXRlZCAoKSB7CiAgICAgICAgdGhpcy5saXN0YXIoKTsKICAgICAgICB0aGlzLnNlbGVjdFBlcnNvbmEoKTsKICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgc2VsZWN0UGVyc29uYSgpewogICAgICAgICAgICBsZXQgbWU9dGhpczsKICAgICAgICAgICAgbGV0IHBlcnNvbmFBcnJheT1bXTsKICAgICAgICAgICAgbGV0IGhlYWRlcj17IlRva2VuIiA6IHRoaXMuJHN0b3JlLnN0YXRlLnRva2VufTsKICAgICAgICAgICAgbGV0IGNvbmZpZ3VyYWNpb249IHtoZWFkZXJzIDogaGVhZGVyfTsgICAgICAgICAgICAKICAgICAgICAgICAgYXhpb3MuZ2V0KCdwZXJzb25hL2xpc3RQcm92ZWVkb3JlcycsY29uZmlndXJhY2lvbikudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpewogICAgICAgICAgICAgICAgcGVyc29uYUFycmF5PXJlc3BvbnNlLmRhdGE7CiAgICAgICAgICAgICAgICBwZXJzb25hQXJyYXkubWFwKGZ1bmN0aW9uKHgpewogICAgICAgICAgICAgICAgICAgIG1lLnBlcnNvbmFzLnB1c2goe3RleHQ6eC5ub21icmUsIHZhbHVlOnguX2lkfSk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24oZXJyb3IpewogICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIGJ1c2NhckNvZGlnbygpewogICAgICAgICAgICBsZXQgbWU9dGhpczsKICAgICAgICAgICAgbWUuZXJyb3JBcnRpY3Vsbz1udWxsOwogICAgICAgICAgICBsZXQgaGVhZGVyPXsiVG9rZW4iIDogdGhpcy4kc3RvcmUuc3RhdGUudG9rZW59OwogICAgICAgICAgICBsZXQgY29uZmlndXJhY2lvbj0ge2hlYWRlcnMgOiBoZWFkZXJ9OyAgICAgICAgICAgIAogICAgICAgICAgICBheGlvcy5nZXQoJ2FydGljdWxvL3F1ZXJ5Q29kaWdvP2NvZGlnbz0nK3RoaXMuY29kaWdvLGNvbmZpZ3VyYWNpb24pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKXsKICAgICAgICAgICAgICAgIG1lLmFncmVnYXJEZXRhbGxlKHJlc3BvbnNlLmRhdGEpOwogICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbihlcnJvcil7CiAgICAgICAgICAgICAgICBtZS5lcnJvckFydGljdWxvPSdObyBleGlzdGUgZWwgYXJ0w61jdWxvLic7CiAgICAgICAgICAgIH0pOwoKICAgICAgICB9LAogICAgICAgIGFncmVnYXJEZXRhbGxlKGRhdGEpewogICAgICAgICAgICB0aGlzLmVycm9yQXJ0aWN1bG89bnVsbDsKICAgICAgICAgICAgaWYgKHRoaXMuZW5jdWVudHJhKGRhdGEuX2lkKT09dHJ1ZSl7CiAgICAgICAgICAgICAgICB0aGlzLmVycm9yQXJ0aWN1bG89J0VsIGFydMOtY3VsbyB5YSBoYSBzaWRvIGFncmVnYWRvLic7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZXsKICAgICAgICAgICAgICAgIHRoaXMuZGV0YWxsZXMucHVzaCgKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIF9pZDpkYXRhLl9pZCwKICAgICAgICAgICAgICAgICAgICAgICAgYXJ0aWN1bG86ZGF0YS5ub21icmUsCiAgICAgICAgICAgICAgICAgICAgICAgIGNhbnRpZGFkOjEsCiAgICAgICAgICAgICAgICAgICAgICAgIHByZWNpbzpkYXRhLnByZWNpb192ZW50YQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICB0aGlzLmNvZGlnbz0nJzsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICB9LAogICAgICAgIGVuY3VlbnRyYShpZCl7CiAgICAgICAgICAgIGxldCBzdz0wOwogICAgICAgICAgICBmb3IgKHZhciBpPTA7aTx0aGlzLmRldGFsbGVzLmxlbmd0aDtpKyspewogICAgICAgICAgICAgICAgaWYodGhpcy5kZXRhbGxlc1tpXS5faWQ9PWlkKXsKICAgICAgICAgICAgICAgICAgICBzdz10cnVlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBzdzsKICAgICAgICB9LAogICAgICAgIGVsaW1pbmFyRGV0YWxsZShhcnIsaXRlbSl7CiAgICAgICAgICAgIGxldCBpPWFyci5pbmRleE9mKGl0ZW0pOwogICAgICAgICAgICBpZiAoaSE9IC0xKXsKICAgICAgICAgICAgICAgIGFyci5zcGxpY2UoaSwxKTsKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgbGlzdGFyQXJ0aWN1bG9zKCl7CiAgICAgICAgICAgIGxldCBtZT10aGlzOwogICAgICAgICAgICBsZXQgaGVhZGVyPXsiVG9rZW4iIDogdGhpcy4kc3RvcmUuc3RhdGUudG9rZW59OwogICAgICAgICAgICBsZXQgY29uZmlndXJhY2lvbj0ge2hlYWRlcnMgOiBoZWFkZXJ9OyAgICAgICAgICAgIAogICAgICAgICAgICBheGlvcy5nZXQoJ2FydGljdWxvL2xpc3Q/dmFsb3I9Jyt0aGlzLnRleHRvLGNvbmZpZ3VyYWNpb24pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKXsKICAgICAgICAgICAgICAgIG1lLmFydGljdWxvcz1yZXNwb25zZS5kYXRhOwogICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbihlcnJvcil7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0sCiAgICAgICAgbW9zdHJhck1vZGFsQXJ0aWN1bG9zKCl7CiAgICAgICAgICAgIHRoaXMuZGlhbG9nPTE7CiAgICAgICAgfSwKICAgICAgICBsaXN0YXJEZXRhbGxlcyhpZCl7CiAgICAgICAgICAgIGxldCBtZT10aGlzOwogICAgICAgICAgICBsZXQgaGVhZGVyPXsiVG9rZW4iIDogdGhpcy4kc3RvcmUuc3RhdGUudG9rZW59OwogICAgICAgICAgICBsZXQgY29uZmlndXJhY2lvbj0ge2hlYWRlcnMgOiBoZWFkZXJ9OyAgICAgICAgICAgIAogICAgICAgICAgICBheGlvcy5nZXQoJ2luZ3Jlc28vcXVlcnk/X2lkPScraWQsY29uZmlndXJhY2lvbikudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpewogICAgICAgICAgICAgICAgbWUuZGV0YWxsZXM9cmVzcG9uc2UuZGF0YS5kZXRhbGxlczsKICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24oZXJyb3IpewogICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIHZlckluZ3Jlc28oaXRlbSl7CiAgICAgICAgICAgIHRoaXMubGltcGlhcigpOwogICAgICAgICAgICB0aGlzLnRpcG9fY29tcHJvYmFudGU9aXRlbS50aXBvX2NvbXByb2JhbnRlOwogICAgICAgICAgICB0aGlzLnNlcmllX2NvbXByb2JhbnRlPWl0ZW0uc2VyaWVfY29tcHJvYmFudGU7CiAgICAgICAgICAgIHRoaXMubnVtX2NvbXByb2JhbnRlPWl0ZW0ubnVtX2NvbXByb2JhbnRlOwogICAgICAgICAgICB0aGlzLnBlcnNvbmE9aXRlbS5wZXJzb25hLl9pZDsKICAgICAgICAgICAgdGhpcy5pbXB1ZXN0bz1pdGVtLmltcHVlc3RvOwogICAgICAgICAgICB0aGlzLmxpc3RhckRldGFsbGVzKGl0ZW0uX2lkKTsKICAgICAgICAgICAgdGhpcy52ZXJOdWV2bz0xOwogICAgICAgICAgICB0aGlzLnZlckRldGFsbGU9MTsKICAgICAgICB9LAogICAgICAgIGxpc3RhcigpewogICAgICAgICAgICBsZXQgbWU9dGhpczsKICAgICAgICAgICAgbGV0IGhlYWRlcj17IlRva2VuIiA6IHRoaXMuJHN0b3JlLnN0YXRlLnRva2VufTsKICAgICAgICAgICAgbGV0IGNvbmZpZ3VyYWNpb249IHtoZWFkZXJzIDogaGVhZGVyfTsgICAgICAgICAgICAKICAgICAgICAgICAgYXhpb3MuZ2V0KCdpbmdyZXNvL2xpc3QnLGNvbmZpZ3VyYWNpb24pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKXsKICAgICAgICAgICAgICAgIG1lLmluZ3Jlc29zPXJlc3BvbnNlLmRhdGE7CiAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uKGVycm9yKXsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICAgICAgfSk7CgogICAgICAgIH0sCiAgICAgICAgbGltcGlhcigpewogICAgICAgICAgICB0aGlzLl9pZD0nJzsKICAgICAgICAgICAgdGhpcy50aXBvX2NvbXByb2JhbnRlPScnOwogICAgICAgICAgICB0aGlzLnNlcmllX2NvbXByb2JhbnRlPScnOwogICAgICAgICAgICB0aGlzLm51bV9jb21wcm9iYW50ZT0nJzsKICAgICAgICAgICAgdGhpcy5pbXB1ZXN0bz0wLjE4OwogICAgICAgICAgICB0aGlzLmNvZGlnbz0nJzsKICAgICAgICAgICAgdGhpcy50b3RhbD0wOwogICAgICAgICAgICB0aGlzLnRvdGFsUGFyY2lhbD0wOwogICAgICAgICAgICB0aGlzLnRvdGFsSW1wdWVzdG89MDsKICAgICAgICAgICAgdGhpcy5kZXRhbGxlcz1bXTsKICAgICAgICAgICAgdGhpcy52ZXJOdWV2bz0wOwogICAgICAgICAgICB0aGlzLnZhbGlkYT0wOwogICAgICAgICAgICB0aGlzLnZhbGlkYU1lbnNhamU9W107CiAgICAgICAgICAgIHRoaXMudmVyRGV0YWxsZT0wOwogICAgICAgIH0sCiAgICAgICAgdmFsaWRhcigpewogICAgICAgICAgICB0aGlzLnZhbGlkYT0wOwogICAgICAgICAgICB0aGlzLnZhbGlkYU1lbnNhamU9W107CiAgICAgICAgICAgIGlmKCF0aGlzLnBlcnNvbmEpewogICAgICAgICAgICAgICAgdGhpcy52YWxpZGFNZW5zYWplLnB1c2goJ1NlbGVjY2lvbmUgdW4gcHJvdmVlZG9yLicpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmKCF0aGlzLnRpcG9fY29tcHJvYmFudGUpewogICAgICAgICAgICAgICAgdGhpcy52YWxpZGFNZW5zYWplLnB1c2goJ1NlbGVjY2lvbmUgdW4gdGlwbyBkZSBjb21wcm9iYW50ZS4nKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZighdGhpcy5udW1fY29tcHJvYmFudGUpewogICAgICAgICAgICAgICAgdGhpcy52YWxpZGFNZW5zYWplLnB1c2goJ0luZ3Jlc2UgZWwgbsO6bWVybyBkZWwgY29tcHJvYmFudGUuJyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYoIXRoaXMuaW1wdWVzdG8gfHwgdGhpcy5pbXB1ZXN0bzwwIHx8IHRoaXMuaW1wdWVzdG8+MSl7CiAgICAgICAgICAgICAgICB0aGlzLnZhbGlkYU1lbnNhamUucHVzaCgnSW5ncmVzZSB1biBpbXB1ZXN0byB2w6FsaWRvLicpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmKHRoaXMuZGV0YWxsZXMubGVuZ3RoPD0wKXsKICAgICAgICAgICAgICAgIHRoaXMudmFsaWRhTWVuc2FqZS5wdXNoKCdJbmdyZXNlIGFsIG1lbm9zIHVuIGFydMOtY3VsbyBhbCBkZXRhbGxlJyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKHRoaXMudmFsaWRhTWVuc2FqZS5sZW5ndGgpewogICAgICAgICAgICAgICAgdGhpcy52YWxpZGE9MTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gdGhpcy52YWxpZGE7CiAgICAgICAgfSwKICAgICAgICBtb3N0cmFyTnVldm8oKXsKICAgICAgICAgICAgdGhpcy52ZXJOdWV2bz0xOwogICAgICAgIH0sCiAgICAgICAgb2N1bHRhck51ZXZvKCl7CiAgICAgICAgICAgIHRoaXMudmVyTnVldm89MDsKICAgICAgICAgICAgdGhpcy5saW1waWFyKCk7CiAgICAgICAgfSwKICAgICAgICBndWFyZGFyKCl7CiAgICAgICAgICAgIGxldCBtZT10aGlzOwogICAgICAgICAgICBsZXQgaGVhZGVyPXsiVG9rZW4iIDogdGhpcy4kc3RvcmUuc3RhdGUudG9rZW59OwogICAgICAgICAgICBsZXQgY29uZmlndXJhY2lvbj0ge2hlYWRlcnMgOiBoZWFkZXJ9OwogICAgICAgICAgICBpZiAodGhpcy52YWxpZGFyKCkpewogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIC8vQ8OzZGlnbyBwYXJhIGd1YXJkYXIKICAgICAgICAgICAgYXhpb3MucG9zdCgnaW5ncmVzby9hZGQnLAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAncGVyc29uYSc6dGhpcy5wZXJzb25hLAogICAgICAgICAgICAgICAgJ3VzdWFyaW8nOnRoaXMuJHN0b3JlLnN0YXRlLnVzdWFyaW8uX2lkLAogICAgICAgICAgICAgICAgJ3RpcG9fY29tcHJvYmFudGUnOiB0aGlzLnRpcG9fY29tcHJvYmFudGUsCiAgICAgICAgICAgICAgICAnc2VyaWVfY29tcHJvYmFudGUnOiB0aGlzLnNlcmllX2NvbXByb2JhbnRlLAogICAgICAgICAgICAgICAgJ251bV9jb21wcm9iYW50ZSc6dGhpcy5udW1fY29tcHJvYmFudGUsCiAgICAgICAgICAgICAgICAnaW1wdWVzdG8nOiB0aGlzLmltcHVlc3RvLAogICAgICAgICAgICAgICAgJ3RvdGFsJzp0aGlzLnRvdGFsLAogICAgICAgICAgICAgICAgJ2RldGFsbGVzJzp0aGlzLmRldGFsbGVzCiAgICAgICAgICAgIH0sY29uZmlndXJhY2lvbikKICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpewogICAgICAgICAgICAgICAgbWUubGltcGlhcigpOwogICAgICAgICAgICAgICAgbWUuY2xvc2UoKTsKICAgICAgICAgICAgICAgIG1lLmxpc3RhcigpOwogICAgICAgICAgICB9KQogICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24oZXJyb3IpewogICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIGFjdGl2YXJEZXNhY3RpdmFyTW9zdHJhcihhY2Npb24saXRlbSl7CiAgICAgICAgICAgIHRoaXMuYWRNb2RhbD0xOwogICAgICAgICAgICB0aGlzLmFkTm9tYnJlPWl0ZW0ubnVtX2NvbXByb2JhbnRlOwogICAgICAgICAgICB0aGlzLmFkSWQ9aXRlbS5faWQ7CiAgICAgICAgICAgIGlmIChhY2Npb249PTEpewogICAgICAgICAgICAgICAgdGhpcy5hZEFjY2lvbj0xOwogICAgICAgICAgICB9IGVsc2UgaWYoYWNjaW9uPT0yKXsKICAgICAgICAgICAgICAgIHRoaXMuYWRBY2Npb249MjsKICAgICAgICAgICAgfSBlbHNlewogICAgICAgICAgICAgICAgdGhpcy5hZE1vZGFsPTA7CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGFjdGl2YXJEZXNhY3RpdmFyQ2VycmFyKCl7CiAgICAgICAgICAgIHRoaXMuYWRNb2RhbD0wOwogICAgICAgIH0sCiAgICAgICAgYWN0aXZhcigpewogICAgICAgICAgICBsZXQgbWU9dGhpczsKICAgICAgICAgICAgbGV0IGhlYWRlcj17IlRva2VuIiA6IHRoaXMuJHN0b3JlLnN0YXRlLnRva2VufTsKICAgICAgICAgICAgbGV0IGNvbmZpZ3VyYWNpb249IHtoZWFkZXJzIDogaGVhZGVyfTsKICAgICAgICAgICAgYXhpb3MucHV0KCdpbmdyZXNvL2FjdGl2YXRlJyx7J19pZCc6dGhpcy5hZElkfSxjb25maWd1cmFjaW9uKQogICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpewogICAgICAgICAgICAgICAgICAgIG1lLmFkTW9kYWw9MDsKICAgICAgICAgICAgICAgICAgICBtZS5hZEFjY2lvbj0wOwogICAgICAgICAgICAgICAgICAgIG1lLmFkTm9tYnJlPScnOwogICAgICAgICAgICAgICAgICAgIG1lLmFkSWQ9Jyc7CiAgICAgICAgICAgICAgICAgICAgbWUubGlzdGFyKCk7CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uKGVycm9yKXsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIGRlc2FjdGl2YXIoKXsKICAgICAgICAgICAgbGV0IG1lPXRoaXM7CiAgICAgICAgICAgIGxldCBoZWFkZXI9eyJUb2tlbiIgOiB0aGlzLiRzdG9yZS5zdGF0ZS50b2tlbn07CiAgICAgICAgICAgIGxldCBjb25maWd1cmFjaW9uPSB7aGVhZGVycyA6IGhlYWRlcn07CiAgICAgICAgICAgIGF4aW9zLnB1dCgnaW5ncmVzby9kZWFjdGl2YXRlJyx7J19pZCc6dGhpcy5hZElkfSxjb25maWd1cmFjaW9uKQogICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpewogICAgICAgICAgICAgICAgICAgIG1lLmFkTW9kYWw9MDsKICAgICAgICAgICAgICAgICAgICBtZS5hZEFjY2lvbj0wOwogICAgICAgICAgICAgICAgICAgIG1lLmFkTm9tYnJlPScnOwogICAgICAgICAgICAgICAgICAgIG1lLmFkSWQ9Jyc7CiAgICAgICAgICAgICAgICAgICAgbWUubGlzdGFyKCk7CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uKGVycm9yKXsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIGNsb3NlICgpIHsKICAgICAgICAgICAgdGhpcy5kaWFsb2cgPSBmYWxzZTsKICAgICAgICB9CiAgICB9Cn0K"},{"version":3,"sources":["Ingresos.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8OA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Ingresos.vue","sourceRoot":"src/components/admin","sourcesContent":["<template>\n    <v-layout align-start>\n        <v-flex>\n            <v-toolbar flat color=\"white\">\n                <v-toolbar-title>Ingresos</v-toolbar-title>\n                <v-divider\n                class=\"mx-2\"\n                inset\n                vertical\n                ></v-divider>\n                <v-spacer></v-spacer>\n                <v-text-field v-if=\"verNuevo==0\" class=\"text-xs-center\" v-model=\"search\" append-icon=\"search\" \n                label=\"Búsqueda\" single-line hide-details></v-text-field>\n                <v-spacer></v-spacer>\n                <v-btn color=\"primary\" v-if=\"verNuevo==0\" @click=\"mostrarNuevo()\" dark class=\"mb-2\">Nuevo</v-btn>\n                <v-dialog v-model=\"dialog\" max-width=\"1000px\">\n                    <v-card>\n                        <v-card-title> \n                            <span class=\"headline\">Seleccione un artículo</span>\n                        </v-card-title>            \n                        <v-card-text>\n                            <v-container grid-list-md>\n                                <v-layout wrap>\n                                    <v-flex xs12 sm12 md12 lg12 xl12>                                        \n                                        <v-text-field v-model=\"texto\" @keyup.enter=\"listarArticulos()\" class=\"text-xs-center\" append-icon=\"search\" \n                                        label=\"Búsqueda\"></v-text-field>\n                                        <template>\n                                            <v-data-table\n                                                :headers=\"cabeceraArticulos\"\n                                                :items=\"articulos\"\n                                                class=\"elevation-1\"\n                                            >\n                                                <template v-slot:items=\"props\">\n                                                <td class=\"justify-center layout px-0\">\n                                                    <v-icon\n                                                    small\n                                                    class=\"mr-2\"\n                                                    @click=\"agregarDetalle(props.item)\"\n                                                    >\n                                                    add\n                                                    </v-icon>                                                    \n                                                </td>\n                                                <td>{{ props.item.codigo }}</td>\n                                                <td>{{ props.item.nombre }}</td>\n                                                <td>{{ props.item.categoria.nombre }}</td>\n                                                <td>{{ props.item.stock }}</td>\n                                                <td>{{ props.item.precio_venta }}</td>\n                                                <td>{{ props.item.descripcion }}</td>\n                                                <td>\n                                                    <div v-if=\"props.item.estado\">\n                                                        <span class=\"blue--text\">Activo</span>\n                                                    </div>\n                                                    <div v-else>\n                                                        <span class=\"red--text\">Inactivo</span>\n                                                    </div>\n                                                </td>                \n                                                </template>\n                                            </v-data-table>\n                                        </template>\n                                    </v-flex>\n                                </v-layout>\n                            </v-container>\n                        </v-card-text>            \n                        <v-card-actions>\n                        <v-spacer></v-spacer>\n                            <v-btn color=\"blue darken-1\" flat @click=\"close\">Cancelar</v-btn>\n                        </v-card-actions>\n                    </v-card>\n                </v-dialog>\n                <v-dialog v-model=\"adModal\" max-width=\"290\">\n                    <v-card>\n                        <v-card-title class=\"headline\" v-if=\"adAccion==1\">\n                            Activar Item\n                        </v-card-title>\n                        <v-card-title class=\"headline\" v-if=\"adAccion==2\">\n                            Desactivar Item\n                        </v-card-title>\n                        <v-card-text>\n                            Estás a punto de <span v-if=\"adAccion==1\">activar </span>\n                            <span v-if=\"adAccion==2\">desactivar </span> el item {{adNombre}}\n                        </v-card-text>\n                        <v-card-actions>\n                            <v-spacer></v-spacer>\n                            <v-btn @click=\"activarDesactivarCerrar()\" color=\"green darken-1\" flat=\"flat\">\n                                Cancelar\n                            </v-btn>\n                            <v-btn v-if=\"adAccion==1\" @click=\"activar()\" color=\"orange darken-4\" flat=\"flat\">\n                                Activar\n                            </v-btn>\n                            <v-btn v-if=\"adAccion==2\" @click=\"desactivar()\" color=\"orange darken-4\" flat=\"flat\">\n                                Desactivar\n                            </v-btn>\n                        </v-card-actions>\n                    </v-card>\n                </v-dialog>\n            </v-toolbar>\n            <v-data-table\n                :headers=\"headers\"\n                :items=\"ingresos\"\n                :search=\"search\"\n                class=\"elevation-1\"\n                v-if=\"verNuevo==0\"\n            >\n                <template v-slot:default=\"props\">\n                <td class=\"justify-center layout px-0\">\n                    <v-icon small class=\"mr-2\" @click=\"verIngreso(props.item)\">\n                        tab\n                    </v-icon>\n                    <template v-if=\"props.item.estado\">\n                        <v-icon\n                        small\n                        @click=\"activarDesactivarMostrar(2,props.item)\"\n                        >\n                        block\n                        </v-icon>\n                    </template>\n                    <template v-else>\n                        <v-icon\n                        small\n                        @click=\"activarDesactivarMostrar(1,props.item)\"\n                        >\n                        check\n                        </v-icon>\n                    </template>\n                </td>\n                <td>{{ props.item.usuario.nombre }}</td>\n                <td>{{ props.item.persona.nombre }}</td>\n                <td>{{ props.item.tipo_comprobante }}</td>\n                <td>{{ props.item.serie_comprobante }}</td>\n                <td>{{ props.item.num_comprobante }}</td>\n                <td>{{ props.item.createdAt }}</td>\n                <td>{{ props.item.impuesto }}</td>\n                <td>{{ props.item.total }}</td>\n                <td>\n                    <div v-if=\"props.item.estado\">\n                        <span class=\"blue--text\">Aceptado</span>\n                    </div>\n                    <div v-else>\n                        <span class=\"red--text\">Anulado</span>\n                    </div>\n                </td>                \n                </template>\n                <template v-slot:no-data>\n                <v-btn color=\"primary\" @click=\"listar()\">Resetear</v-btn>\n                </template>\n            </v-data-table>\n            <v-container grid-list-sm class=\"pa-4 white\" v-if=\"verNuevo\">\n                <v-layout row wrap>\n                    <v-flex xs12 sm4 md4 lg4 xl4>\n                        <v-select v-model=\"tipo_comprobante\" \n                        :items=\"comprobantes\" label=\"Tipo Comprobante\">\n                        </v-select>\n                    </v-flex>\n                    <v-flex xs12 sm4 md4 lg4 xl4>\n                        <v-text-field v-model=\"serie_comprobante\" label=\"Serie Comprobante\">\n                        </v-text-field>\n                    </v-flex>\n                    <v-flex xs12 sm4 md4 lg4 xl4>\n                        <v-text-field v-model=\"num_comprobante\" label=\"Número Comprobante\">\n                        </v-text-field>\n                    </v-flex>\n                    <v-flex xs12 sm8 md8 lg8 xl8>\n                        <v-autocomplete :items=\"personas\" v-model=\"persona\" label=\"Proveedor\">\n                        </v-autocomplete>\n                    </v-flex>\n                    <v-flex xs12 sm4 md4 lg4 xl4>\n                        <v-text-field type=\"number\" v-model=\"impuesto\" label=\"Impuesto\">\n                        </v-text-field>\n                    </v-flex>\n                    <v-flex xs12 sm8 md8 lg8 x8>\n                        <v-text-field v-model=\"codigo\" label=\"Código\" @keyup.enter=\"buscarCodigo()\">\n                        </v-text-field>\n                    </v-flex>\n                    <v-flex xs12 sm2 md2 lg2 xl2>\n                        <v-btn small fab dark color=\"teal\" @click=\"mostrarModalArticulos()\">\n                            <v-icon dark>list</v-icon>\n                        </v-btn>\n                    </v-flex>\n                    <v-flex xs12 sm2 md2 lg2 xl2 v-show=\"errorArticulo\">\n                        <div class=\"red--text\" v-text=\"errorArticulo\">\n\n                        </div>\n                    </v-flex>\n                    <v-flex xs12 sm12 md12 lg12 xl12>\n                        <template>\n                            <v-data-table\n                                :headers=\"cabeceraDetalles\"\n                                :items=\"detalles\"\n                                hide-actions\n                                class=\"elevation-1\"\n                            >\n                                <template slot=\"items\" slot-scope=\"props\">\n                                    <td>\n                                        <v-icon\n                                        small\n                                        class=\"mr-2\"\n                                        @click=\"eliminarDetalle(detalles,props.item)\"\n                                        >\n                                        delete\n                                        </v-icon>\n                                    </td>\n                                    <td class=\"text-xs-center\">{{ props.item.articulo }}</td>\n                                    <td class=\"text-xs-center\"><v-text-field v-model=\"props.item.cantidad\" type=\"number\"></v-text-field></td>\n                                    <td class=\"text-xs-center\"><v-text-field v-model=\"props.item.precio\" type=\"number\"></v-text-field></td>\n                                    <td class=\"text-xs-right\">$ {{ props.item.cantidad * props.item.precio}}</td>\n                                </template>\n                                <template slot=\"no-data\">\n                                    <h3>No hay artículos agregados al detalle.</h3>\n                                </template>\n                            </v-data-table>\n                            <v-flex class=\"text-xs-right\">\n                                <strong>Total Parcial:</strong> $ \n                                {{totalParcial=(total-totalImpuesto).toFixed(2)}}\n                            </v-flex>\n                            <v-flex class=\"text-xs-right\">\n                                <strong>Total Impuesto:</strong> $ \n                                {{totalImpuesto=((total*impuesto)/(1+impuesto)).toFixed(2)}}\n                            </v-flex>\n                            <v-flex class=\"text-xs-right\">\n                                <strong>Total Neto:</strong> $ {{total=calcularTotal}}\n                            </v-flex>\n                        </template>\n                    </v-flex>\n                    <v-flex xs12 sm12 md12 v-show=\"valida\">\n                        <div class=\"red--text\" v-for=\"v in validaMensaje\" :key=\"v\" v-text=\"v\">\n\n                        </div>\n                    </v-flex>                    \n                    <v-flex xs12 sm12 md12 lg12 xl12>\n                        <v-btn color=\"blue darken-1\" flat @click.native=\"ocultarNuevo()\">Cancelar</v-btn>\n                        <v-btn color=\"success\" v-if=\"verDetalle==0\" @click.native=\"guardar()\">Guardar</v-btn>\n                    </v-flex>\n\t\t        </v-layout>\n            </v-container>\n        </v-flex>\n    </v-layout>\n</template>\n<script>\n    import axios from 'axios'\n    export default {\n        data(){\n            return{\n                dialog: false,\n                search:'',\n                ingresos:[],\n                headers: [\n                    { text: 'Opciones', value: 'opciones', sortable: false },\n                    { text: 'Usuario', value: 'usuario.nombre', sortable: true },\n                    { text: 'Proveedor', value: 'persona.nombre', sortable: true },\n                    { text: 'Tipo Comprobante', value: 'tipo_comprobante', sortable: true },\n                    { text: 'Serie comprobante', value: 'serie_comprobante', sortable: false  },\n                    { text: 'Número comprobante', value: 'num_comprobante', sortable: false  },\n                    { text: 'Fecha', value: 'createdAt', sortable: false  },\n                    { text: 'Impuesto', value: 'impuesto', sortable: false  },\n                    { text: 'Total', value: 'total', sortable: false  },\n                    { text: 'Estado', value: 'estado', sortable: false  }                \n                ],\n                _id:'',\n                persona:'',\n                personas:[],\n                tipo_comprobante:'',\n                comprobantes: ['BOLETA','FACTURA','TICKET','GUIA'],\n                serie_comprobante:'',\n                num_comprobante: '',\n                impuesto: 0.18,\n                codigo:'',\n                cabeceraDetalles:[\n                    { text: 'Borrar', value: 'borrar', sortable: false },\n                    { text: 'Artículo', value: 'articulo', sortable: false },\n                    { text: 'Cantidad', value: 'cantidad', sortable: false },\n                    { text: 'Precio', value: 'precio', sortable: false },\n                    { text: 'Sub Total', value: 'subtotal', sortable: false  }\n                ],\n                detalles:[],\n                verNuevo:0,\n                errorArticulo:null,\n                total:0,\n                totalParcial:0,\n                totalImpuesto:0,\n                articulos:[],\n                texto:'',\n                cabeceraArticulos: [\n                    { text: 'Seleccionar', value: 'seleccionar', sortable: false },\n                    { text: 'Código',value: 'codigo', sortable: false},\n                    { text: 'Nombre',value: 'nombre', sortable: true},\n                    { text: 'Categoría',value: 'categoria.nombre', sortable: true},\n                    { text: 'Stock',value: 'stock', sortable: false},\n                    { text: 'Precio Venta',value: 'precio_venta', sortable: false},\n                    { text: 'Descripción', value: 'descripcion', sortable: false },              \n                    { text: 'Estado', value: 'estado', sortable: false }\n                ],\n                verDetalle:0,\n                valida:0,\n                validaMensaje:[],\n                adModal:0,\n                adAccion:0,\n                adNombre:'',\n                adId:''\n            }\n        },\n        computed: {\n            calcularTotal: function(){\n                let resultado=0.0;\n                for(var i=0;i<this.detalles.length;i++){\n                    resultado=resultado+(this.detalles[i].cantidad*this.detalles[i].precio);\n                }\n                return resultado;\n            }\n        },\n        watch: {\n            dialog (val) {\n            val || this.close()\n            }\n        },\n        created () {\n            this.listar();\n            this.selectPersona();\n        },\n        methods: {\n            selectPersona(){\n                let me=this;\n                let personaArray=[];\n                let header={\"Token\" : this.$store.state.token};\n                let configuracion= {headers : header};            \n                axios.get('persona/listProveedores',configuracion).then(function (response){\n                    personaArray=response.data;\n                    personaArray.map(function(x){\n                        me.personas.push({text:x.nombre, value:x._id});\n                    });\n                }).catch(function(error){\n                    console.log(error);\n                });\n            },\n            buscarCodigo(){\n                let me=this;\n                me.errorArticulo=null;\n                let header={\"Token\" : this.$store.state.token};\n                let configuracion= {headers : header};            \n                axios.get('articulo/queryCodigo?codigo='+this.codigo,configuracion).then(function (response){\n                    me.agregarDetalle(response.data);\n                }).catch(function(error){\n                    me.errorArticulo='No existe el artículo.';\n                });\n\n            },\n            agregarDetalle(data){\n                this.errorArticulo=null;\n                if (this.encuentra(data._id)==true){\n                    this.errorArticulo='El artículo ya ha sido agregado.';\n                }\n                else{\n                    this.detalles.push(\n                        {\n                            _id:data._id,\n                            articulo:data.nombre,\n                            cantidad:1,\n                            precio:data.precio_venta\n                        }\n                    );\n                    this.codigo='';\n                }\n                \n            },\n            encuentra(id){\n                let sw=0;\n                for (var i=0;i<this.detalles.length;i++){\n                    if(this.detalles[i]._id==id){\n                        sw=true;\n                    }\n                }\n                return sw;\n            },\n            eliminarDetalle(arr,item){\n                let i=arr.indexOf(item);\n                if (i!= -1){\n                    arr.splice(i,1);\n                }\n            },\n            listarArticulos(){\n                let me=this;\n                let header={\"Token\" : this.$store.state.token};\n                let configuracion= {headers : header};            \n                axios.get('articulo/list?valor='+this.texto,configuracion).then(function (response){\n                    me.articulos=response.data;\n                }).catch(function(error){\n                    console.log(error);\n                });\n            },\n            mostrarModalArticulos(){\n                this.dialog=1;\n            },\n            listarDetalles(id){\n                let me=this;\n                let header={\"Token\" : this.$store.state.token};\n                let configuracion= {headers : header};            \n                axios.get('ingreso/query?_id='+id,configuracion).then(function (response){\n                    me.detalles=response.data.detalles;\n                }).catch(function(error){\n                    console.log(error);\n                });\n            },\n            verIngreso(item){\n                this.limpiar();\n                this.tipo_comprobante=item.tipo_comprobante;\n                this.serie_comprobante=item.serie_comprobante;\n                this.num_comprobante=item.num_comprobante;\n                this.persona=item.persona._id;\n                this.impuesto=item.impuesto;\n                this.listarDetalles(item._id);\n                this.verNuevo=1;\n                this.verDetalle=1;\n            },\n            listar(){\n                let me=this;\n                let header={\"Token\" : this.$store.state.token};\n                let configuracion= {headers : header};            \n                axios.get('ingreso/list',configuracion).then(function (response){\n                    me.ingresos=response.data;\n                }).catch(function(error){\n                    console.log(error);\n                });\n\n            },\n            limpiar(){\n                this._id='';\n                this.tipo_comprobante='';\n                this.serie_comprobante='';\n                this.num_comprobante='';\n                this.impuesto=0.18;\n                this.codigo='';\n                this.total=0;\n                this.totalParcial=0;\n                this.totalImpuesto=0;\n                this.detalles=[];\n                this.verNuevo=0;\n                this.valida=0;\n                this.validaMensaje=[];\n                this.verDetalle=0;\n            },\n            validar(){\n                this.valida=0;\n                this.validaMensaje=[];\n                if(!this.persona){\n                    this.validaMensaje.push('Seleccione un proveedor.');\n                }\n                if(!this.tipo_comprobante){\n                    this.validaMensaje.push('Seleccione un tipo de comprobante.');\n                }\n                if(!this.num_comprobante){\n                    this.validaMensaje.push('Ingrese el número del comprobante.');\n                }\n                if(!this.impuesto || this.impuesto<0 || this.impuesto>1){\n                    this.validaMensaje.push('Ingrese un impuesto válido.');\n                }\n                if(this.detalles.length<=0){\n                    this.validaMensaje.push('Ingrese al menos un artículo al detalle');\n                }\n                if (this.validaMensaje.length){\n                    this.valida=1;\n                }\n                return this.valida;\n            },\n            mostrarNuevo(){\n                this.verNuevo=1;\n            },\n            ocultarNuevo(){\n                this.verNuevo=0;\n                this.limpiar();\n            },\n            guardar(){\n                let me=this;\n                let header={\"Token\" : this.$store.state.token};\n                let configuracion= {headers : header};\n                if (this.validar()){\n                    return;\n                }\n                //Código para guardar\n                axios.post('ingreso/add',\n                {\n                    'persona':this.persona,\n                    'usuario':this.$store.state.usuario._id,\n                    'tipo_comprobante': this.tipo_comprobante,\n                    'serie_comprobante': this.serie_comprobante,\n                    'num_comprobante':this.num_comprobante,\n                    'impuesto': this.impuesto,\n                    'total':this.total,\n                    'detalles':this.detalles\n                },configuracion)\n                .then(function(response){\n                    me.limpiar();\n                    me.close();\n                    me.listar();\n                })\n                .catch(function(error){\n                    console.log(error);\n                });\n            },\n            activarDesactivarMostrar(accion,item){\n                this.adModal=1;\n                this.adNombre=item.num_comprobante;\n                this.adId=item._id;\n                if (accion==1){\n                    this.adAccion=1;\n                } else if(accion==2){\n                    this.adAccion=2;\n                } else{\n                    this.adModal=0;\n                }\n            },\n            activarDesactivarCerrar(){\n                this.adModal=0;\n            },\n            activar(){\n                let me=this;\n                let header={\"Token\" : this.$store.state.token};\n                let configuracion= {headers : header};\n                axios.put('ingreso/activate',{'_id':this.adId},configuracion)\n                    .then(function(response){\n                        me.adModal=0;\n                        me.adAccion=0;\n                        me.adNombre='';\n                        me.adId='';\n                        me.listar();\n                    })\n                    .catch(function(error){\n                        console.log(error);\n                    });\n            },\n            desactivar(){\n                let me=this;\n                let header={\"Token\" : this.$store.state.token};\n                let configuracion= {headers : header};\n                axios.put('ingreso/deactivate',{'_id':this.adId},configuracion)\n                    .then(function(response){\n                        me.adModal=0;\n                        me.adAccion=0;\n                        me.adNombre='';\n                        me.adId='';\n                        me.listar();\n                    })\n                    .catch(function(error){\n                        console.log(error);\n                    });\n            },\n            close () {\n                this.dialog = false;\n            }\n        }\n    }\n</script>\n"]}]}