{"remainingRequest":"/home/sergio/idev/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/sergio/idev/frontend/src/components/admin/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/sergio/idev/frontend/src/components/admin/Login.vue","mtime":1609986304466},{"path":"/home/sergio/idev/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/sergio/idev/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/sergio/idev/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/sergio/idev/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmV4cG9ydCBkZWZhdWx0IHsKICAgIGRhdGEgKCl7CiAgICAgICAgcmV0dXJuewogICAgICAgICAgICBlbWFpbDonJywKICAgICAgICAgICAgcGFzc3dvcmQ6JycsCiAgICAgICAgICAgIGVycm9yTTpudWxsCiAgICAgICAgfQogICAgfSwKICAgIG1ldGhvZHM6ewogICAgICAgIGluZ3Jlc2FyKCl7CiAgICAgICAgICAgIGF4aW9zLnBvc3QoJ3VzdWFyaW8vbG9naW4nLHtlbWFpbDogdGhpcy5lbWFpbCwgcGFzc3dvcmQ6IHRoaXMucGFzc3dvcmR9KQogICAgICAgICAgICAudGhlbihyZXNwdWVzdGEgPT57CiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcHVlc3RhLmRhdGE7CiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIC50aGVuKGRhdGEgPT57CiAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiZ3VhcmRhclRva2VuIixkYXRhLnRva2VuUmV0dXJuKTsKICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHtuYW1lOiAnaG9tZSd9KTsKICAgICAgICAgICAgfSkKICAgICAgICAgICAgLmNhdGNoKGVycm9yID0+ewogICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhlcm9yKTsKICAgICAgICAgICAgICAgIHRoaXMuZXJyb3JNPW51bGw7CiAgICAgICAgICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2Uuc3RhdHVzPT00MDQpewogICAgICAgICAgICAgICAgICAgIHRoaXMuZXJyb3JNPSdObyBleGlzdGUgZWwgdXN1YXJpbyBvIGxhcyBjcmVkZW5jaWFsZXMgc29uIGluY29ycmVjdGFzLic7CiAgICAgICAgICAgICAgICB9IGVsc2V7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5lcnJvck09J09jdXJyacOzIHVuIGVycm9yIGNvbiBlbCBzZXJ2aWRvci4nOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICB9Cn0K"},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/components/admin","sourcesContent":["<template>\n    <v-layout align-center justify-center>\n        <v-flex xs12 sm8 md6 lg5 xl4>\n            <v-card>\n                <v-toolbar dark color=\"blue darken-3\">\n                    <v-toolbar-title>\n                        Acceso al Sistema\n                    </v-toolbar-title>\n                </v-toolbar>\n                <v-card-text>\n                    <v-text-field v-model=\"email\" autofocus color=\"accent\" label=\"Email\" required>\n                    </v-text-field>\n                    <v-text-field v-model=\"password\" type=\"password\" color=\"accent\" label=\"Password\" required>\n                    </v-text-field>\n                    <v-flex class=\"red--text\" v-if=\"errorM\">\n                        {{errorM}}\n                    </v-flex>\n                </v-card-text>\n                <v-card-actions class=\"px-3 pb-3\">\n                    <v-flex text-xs-right>\n                        <v-btn @click=\"ingresar()\" color=\"primary\">Ingresar</v-btn>\n                    </v-flex>\n                </v-card-actions>\n            </v-card>\n        </v-flex>\n    </v-layout>\n</template>\n<script>\nimport axios from 'axios';\nexport default {\n    data (){\n        return{\n            email:'',\n            password:'',\n            errorM:null\n        }\n    },\n    methods:{\n        ingresar(){\n            axios.post('usuario/login',{email: this.email, password: this.password})\n            .then(respuesta =>{\n                return respuesta.data;\n            })\n            .then(data =>{\n                this.$store.dispatch(\"guardarToken\",data.tokenReturn);\n                this.$router.push({name: 'home'});\n            })\n            .catch(error =>{\n                //console.log(eror);\n                this.errorM=null;\n                if (error.response.status==404){\n                    this.errorM='No existe el usuario o las credenciales son incorrectas.';\n                } else{\n                    this.errorM='Ocurri√≥ un error con el servidor.';\n                }\n            });\n        }\n    }\n}\n</script>\n\n"]}]}